:root{
  --bg: #fff; --fg:#111; --muted:#666; --accent:#4a6cf7; --paper:#f6f6f6;
  --code:#f0f0f0; --sepia:#f4ecd8; --link:#2a5bd7; --border:#e4e4e4;
  --font: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
  --mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  --size: 18px; --lh: 1.5; --maxw: 72ch; --pad: 1rem;
}
@media (prefers-color-scheme: dark){ :root{ --bg:#0f1115; --fg:#eaeef3; --muted:#9aa4b2; --paper:#151821; --code:#0c0f16; --border:#2a2f3a; } }
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; background:var(--bg); color:var(--fg);
  font: var(--size)/var(--lh) var(--font); text-rendering:optimizeLegibility;
}
a{ color:var(--link); text-decoration:none }
a:hover{ text-decoration:underline }
.muted{ color:var(--muted) }
.accent{ color:var(--accent) }
.ghost{ background:none; border:1px solid transparent; color:inherit; padding:.35rem .6rem; border-radius:.5rem; cursor:pointer }
.ghost:hover{ border-color:var(--border); background:var(--paper) }
.small{ font-size:.9rem }
.appbar{
  position:sticky; top:0; z-index:50; display:flex; justify-content:space-between; align-items:center;
  height:3rem; padding:0 var(--pad); background:var(--bg); border-bottom:1px solid var(--border); backdrop-filter:saturate(1.2) blur(6px);
}
#logo{ font-weight:700; letter-spacing:.2px }
main{ display:block; max-width:110rem; margin:0 auto; padding:0; }
.toolbar{
  display:flex; gap:.5rem; align-items:center; padding:.5rem var(--pad); border-bottom:1px solid var(--border); position:sticky; top:3rem; background:var(--bg); z-index:40;
}
.toolbar select{ padding:.35rem .5rem; border-radius:.4rem; border:1px solid var(--border); background:var(--paper); color:inherit }
.ref{ margin-left:.5rem; color:var(--muted); font-variant-numeric:tabular-nums }
.reader{ margin: 0 auto; padding: 1rem var(--pad) 3rem var(--pad); max-width: var(--maxw); }
.reader h1{ font-size:1.2rem; margin:1.2rem 0 .8rem 0; font-weight:600 }
.verse{ display:inline }
.vnum{ color:var(--muted); font-variant-numeric:tabular-nums; padding-right:.25rem; user-select:none }
.para{ display:block; margin:.4rem 0 }
.drawer{
  position:fixed; inset:0 auto 0 0; width:22rem; background:var(--bg); border-right:1px solid var(--border);
  transform:translateX(-100%); transition:transform .2s ease; z-index:60; padding:1rem; overflow:auto;
}
.drawer.open{ transform:none }
.drawer .row{ display:flex; align-items:center; justify-content:space-between; gap:1rem; margin:.6rem 0 }
.results{
  position:fixed; right:1rem; bottom:1rem; width:min(40rem, 95vw); max-height:60vh; overflow:auto;
  background:var(--bg); border:1px solid var(--border); border-radius:.75rem; box-shadow:0 10px 30px rgba(0,0,0,.15);
}
.results-header{ display:flex; align-items:center; justify-content:space-between; padding:.5rem .75rem; border-bottom:1px solid var(--border) }
.results ol{ list-style:none; margin:0; padding:.5rem .75rem }
.results li{ padding:.5rem; border-radius:.5rem; }
.results li:hover{ background:var(--paper) }
.hit-ref{ font-variant-numeric:tabular-nums; color:var(--muted) }
.hit-text mark{ background: #ffea70 }
.palette{
  position:fixed; inset:12vh 0 auto 0; margin:auto; width:min(50rem,95vw); background:var(--bg); border:1px solid var(--border); border-radius:.75rem; box-shadow:0 20px 50px rgba(0,0,0,.25); z-index:80;
}
.palette[hidden]{ display:none }
.palette input{ width:100%; border:none; border-bottom:1px solid var(--border); padding:1rem; background:transparent; color:inherit; font:inherit }
.palette ol{ list-style:none; margin:0; padding:.5rem }
.palette li{ padding:.5rem; border-radius:.5rem; }
.palette li:hover{ background:var(--paper) }
.palette a{ display:block; padding:.5rem; border-radius:.5rem }
.palette li.active, .palette a:focus{ background:var(--paper); outline:none }
.foot{ display:flex; justify-content:space-between; gap:1rem; padding:1rem var(--pad); border-top:1px solid var(--border) }

/* Themes */
html.theme-sepia{ --bg: var(--sepia); --fg:#433; --muted:#765; --paper:#eadfca; --border:#d5c7aa; --link:#3d5aa8 }
/*html.theme-light{ }
html.theme-dark{ }
*/
/* Typography controls */
html.font-serif{ --font: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif }
html.font-sans { --font: var(--sans) }
html.font-mono { --font: var(--mono) }
html.size-15{ --size:15px } html.size-16{ --size:16px } html.size-17{ --size:17px } html.size-18{ --size:18px }
html.size-19{ --size:19px } html.size-20{ --size:20px } html.size-21{ --size:21px } html.size-22{ --size:22px }

/* Utilities */
.hidden{ display:none !important }
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0 }

/* Verse number toggle */
.hide-verse-numbers .vnum { display:none }
